(function(t){function e(e){for(var i,s,r=e[0],l=e[1],o=e[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(c.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={index:0},c=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var u=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("c31f")},"19a9":function(t,e,n){},"1b5f":function(t,e,n){},2581:function(t,e,n){"use strict";var i=n("1b5f"),a=n.n(i);a.a},"2a80":function(t,e,n){"use strict";var i=n("19a9"),a=n.n(i);a.a},"42b1":function(t,e,n){"use strict";var i=n("880c"),a=n.n(i);a.a},"54b3":function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},"82ba":function(t,e,n){},"880c":function(t,e,n){},"8db1":function(t,e,n){"use strict";var i=n("be60"),a=n.n(i);a.a},"93d4":function(t,e,n){"use strict";var i=n("82ba"),a=n.n(i);a.a},be60:function(t,e,n){},c31f:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"head"},[i("img",{attrs:{alt:"Vue logo",src:n("54b3")}}),i("HelloWorld",{attrs:{msg:"JOIN-UI 组件示例"}})],1),i("h2",[t._v("1.juiQrcode")]),i("jui-qrcode",{attrs:{text:"http://www.nmgjoin.com"}}),i("h2",[t._v("2.SkuSpec")]),i("sku-spec",{model:{value:t.sku_keys,callback:function(e){t.sku_keys=e},expression:"sku_keys"}}),i("h2",[t._v("3.SkuTable")]),i("sku-table",{attrs:{specification:t.sku_keys},on:{"update:specification":function(e){t.sku_keys=e}},model:{value:t.sku_values,callback:function(e){t.sku_values=e},expression:"sku_values"}})],1)},c=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))])])},r=[],l={name:"HelloWorld",props:{msg:String}},o=l,u=(n("2a80"),n("2877")),d=Object(u["a"])(o,s,r,!1,null,"61df806b",null),p=d.exports,f=(n("7f7f"),n("8e6e"),n("ac6a"),n("456d"),n("bd86")),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"qrCodeDiv",staticClass:"qrcode-container",attrs:{id:"qrcode"}})},v=[],m=(n("c5f6"),n("d044")),b=n.n(m),y={name:"juiQrcode",props:{text:{type:String,default:" "},width:{type:Number,default:132},height:{type:Number,default:132},colorDark:{type:String,default:"#000"},colorLight:{type:String,default:"#fff"}},data:function(){return{qrcode:null}},watch:{text:{handler:function(){this.build()}}},mounted:function(){this.$nextTick((function(){this.qrcode=new b.a(this.$refs.qrCodeDiv,{width:this.width,height:this.height,text:this.text,colorDark:this.colorDark,colorLight:this.colorLight,correctLevel:b.a.CorrectLevel.L})}))},methods:{build:function(){this.qrcode&&this.qrcode.makeCode(this.text)}}},k=y,S=(n("2581"),Object(u["a"])(k,h,v,!1,null,"0e913c92",null)),g=S.exports;g.install=function(t){t.component(g.name,g)};var _=g,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jui-sku-container"},[n("div",{staticClass:"example"},[n("table",{staticClass:"stock-table el-table el-table--border",attrs:{cellspacing:"0",cellpadding:"0"}},[n("thead",[n("tr",[t._l(t.specification,(function(e,i){return n("th",{key:i},[t._v("\n            "+t._s(e.name)+"\n          ")])})),n("th",{staticStyle:{width:"160px"}},[t._v("销售价（元）")]),n("th",{staticStyle:{width:"160px"}},[t._v("库存")]),n("th",{staticStyle:{width:"160px"}},[t._v("规格编码")]),n("th",{staticStyle:{width:"160px"}},[t._v("成本价（元）")]),n("th",{staticStyle:{width:"100px"}},[t._v("是否启用")])],2)]),t.value.length>0?n("tbody",[t._l(t.value,(function(e,i){return n("tr",{key:e.ProductSpec},[t._l(t.specification,(function(e,a){return t.showTd(a,i)?n("td",{key:a,attrs:{rowspan:t.countSum(a+1)}},[t._v("\n            "+t._s(t.getSpecValue(a,i))+"\n          ")]):t._e()})),n("td",[n("el-input-number",{attrs:{size:"small",min:0,precision:2,placeholder:"输入销售价",disabled:!e.isUse},model:{value:e.ProductPrice,callback:function(n){t.$set(e,"ProductPrice",t._n(n))},expression:"item.ProductPrice"}})],1),n("td",[n("el-input-number",{attrs:{size:"small",min:0,controls:!1,precision:0,placeholder:"输入库存",disabled:!e.isUse},model:{value:e.ProductStock,callback:function(n){t.$set(e,"ProductStock",t._n(n))},expression:"item.ProductStock"}})],1),n("td",[n("el-input",{attrs:{size:"small",type:"text",disabled:!e.isUse,placeholder:"输入商品规格编号"},model:{value:e.ProductNo,callback:function(n){t.$set(e,"ProductNo",n)},expression:"item.ProductNo"}})],1),n("td",[n("el-input-number",{attrs:{size:"small",min:0,precision:2,disabled:!e.isUse},model:{value:e.ProductCost,callback:function(n){t.$set(e,"ProductCost",t._n(n))},expression:"item.ProductCost"}})],1),n("td",[n("el-switch",{model:{value:e.isUse,callback:function(n){t.$set(e,"isUse",n)},expression:"item.isUse"}})],1)],2)})),n("tr",[n("td",{staticClass:"wh-foot",attrs:{colspan:"8"}},[n("span",{staticClass:"label"},[t._v("批量设置：")]),t.isSetListShow?n("ul",{staticClass:"set-list"},[n("li",{staticClass:"set-item",on:{click:function(e){return t.openBatch("ProductPrice")}}},[t._v("销售价")]),n("li",{staticClass:"set-item",on:{click:function(e){return t.openBatch("ProductStock")}}},[t._v("库存")]),n("li",{staticClass:"set-item",on:{click:function(e){return t.openBatch("ProductCost")}}},[t._v("成本价")])]):n("div",{staticClass:"set-form"},[n("el-input-number",{attrs:{controls:!1,size:"mini",min:0,precision:"ProductStock"==t.currentType?0:2,placeholder:"输入要设置的数量"},model:{value:t.batchValue,callback:function(e){t.batchValue=t._n(e)},expression:"batchValue"}}),n("i",{staticClass:"set-btn blue el-icon-check",on:{click:t.setBatch}}),n("i",{staticClass:"set-btn red el-icon-close",on:{click:t.cancelBatch}})],1)])])],2):t._e()])]),t.isShowCode?n("div",{staticClass:"example"},[n("textarea",{staticClass:"code-area",domProps:{value:JSON.stringify(t.value)}})]):t._e()])},C=[];n("6b54");function P(t){return Array.prototype.reduce.call(t,(function(t,e){var n=[];return t.forEach((function(t){e.forEach((function(e){n.push(t.concat([e]))}))})),n}),[[]])}var x={name:"SkuTable",props:{isShowCode:{type:Boolean,default:!1},specification:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}}},data:function(){return{defaultSkuNo:"PRONO_",isSetListShow:!0,batchValue:"",currentType:""}},watch:{specification:{handler:function(){this.bulidSKUS()},deep:!0,immediate:!0}},methods:{bulidSKUS:function(){var t,e=this,n=[];this.specification.forEach((function(t){t.value.length>0&&n.push(t.value)}));var i=P(n),a=[];i.forEach((function(t){if(0!==t.length){var n=e.getOldOrCreatData(JSON.stringify(t));a.push(n)}})),this.value.length=0,(t=this.value).push.apply(t,a),this.$emit("update:value",a)},getOldOrCreatData:function(t){var e={ProductCost:1,ProductId:0,ProductNo:1,ProductPrice:1,ProductSpec:t,ProductStock:999,isUse:!0};return this.value.forEach((function(n){n.ProductSpec===t&&(e=n)})),e},getSpecValue:function(t,e){var n,i=this.specification[t].value;n=this.specification[t+1]&&this.specification[t+1].value.length?e/this.countSum(t+1):e;var a=Math.floor(n%i.length);return"NaN"!==a.toString()?i[a]:""},countSum:function(t){var e=1;return this.specification.forEach((function(n,i){i>=t&&n.value.length&&(e*=n.value.length)})),e},showTd:function(t,e){return!!this.specification[t]&&e%this.countSum(t+1)===0},openBatch:function(t){this.currentType=t,this.isSetListShow=!1},setBatch:function(){var t=this;"string"!==typeof this.batchValue?(this.value.forEach((function(e){e.isUse&&(e[t.currentType]=t.batchValue)})),this.cancelBatch()):this.$message({type:"warning",message:"请输入正确的值"})},cancelBatch:function(){this.batchValue="",this.currentType="",this.isSetListShow=!0}}},O=x,j=(n("93d4"),Object(u["a"])(O,w,C,!1,null,null,null)),V=j.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jui-sku-container"},[n("div",{staticClass:"specification"},[n("ul",{staticClass:"spec-list"},[t._l(t.value,(function(e,i){return n("li",{key:i,staticClass:"item"},[n("div",{staticClass:"name"},[n("el-input",{attrs:{size:"small",placeholder:"输入产品规格名称"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"item.name"}}),n("i",{staticClass:"icon el-icon-circle-close",on:{click:function(e){return t.delSpec(i)}}})],1),n("div",{staticClass:"values"},[t._l(e.value,(function(e,a){return n("span",{key:e,staticClass:"el-tag"},[n("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e))]),n("i",{staticClass:"el-tag__close el-icon-close",on:{click:function(e){return t.delSpecTag(i,a)}}})])})),n("div",{staticClass:"add-attr"},[n("el-input",{attrs:{size:"small",placeholder:"多个产品属性以空格隔开",icon:"plus"},on:{click:function(e){return t.addSpecTag(i)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addSpecTag(i)}},model:{value:t.addValues[i],callback:function(e){t.$set(t.addValues,i,e)},expression:"addValues[index]"}})],1)],2)])})),n("li",{staticClass:"item"},[n("div",{staticClass:"add-spec"},[n("el-button",{attrs:{plain:"",size:"small",type:"info",disabled:t.value.length>=5},on:{click:t.addSpec}},[t._v("添加规格项目")])],1)])],2)]),t.isShowCode?n("div",{staticClass:"example"},[n("textarea",{staticClass:"code-area",domProps:{value:JSON.stringify(t.value)}})]):t._e()])},T=[],E=(n("4f7f"),n("5df3"),n("1c4c"),n("28a5"),{name:"SkuSpec",props:{isShowCode:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}}},data:function(){return{addValues:[]}},watch:{value:{handler:function(){this.$emit("update:model",this.value)},deep:!0}},methods:{addSpec:function(){this.value.length<5&&this.value.push({name:"",value:[]})},delSpec:function(t){this.value.splice(t,1)},addSpecTag:function(t){var e=this.addValues[t]||"";if(e.trim()){e=e.trim();var n=e.split(/\s+/),i=this.value[t].value.concat(n);i=Array.from(new Set(i)),this.$set(this.value[t],"value",i),this.clearAddValues(t)}},delSpecTag:function(t,e){this.value[t].value.splice(e,1)},clearAddValues:function(t){this.$set(this.addValues,t,"")}}}),N=E,U=(n("8db1"),Object(u["a"])(N,$,T,!1,null,null,null)),B=U.exports;function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(n,!0).forEach((function(e){Object(f["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}V.install=function(t){t.component(V.name,V)},B.install=function(t){t.component(B.name,B)};var q=[_,V,B],z=function t(e){t.installed||q.map((function(t){return e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&z(window.Vue);var A=L({install:z},q),J={name:"app",components:{HelloWorld:p,juiQrcode:_,SkuTable:V,SkuSpec:B},data:function(){return{sku_keys:[],sku_values:[]}}},M=J,H=(n("42b1"),Object(u["a"])(M,a,c,!1,null,null,null)),I=H.exports,Q=n("5c96"),W=n.n(Q);n("0fae");i["default"].use(A),i["default"].use(W.a),i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(I)}}).$mount("#app")}});
//# sourceMappingURL=index.f376ed64.js.map